<div dir="ltr"><div style>I think the guts of this is that there isn&#39;t really a good alternative to Oauth 2, and it probably does the job, so we might have to live with it.</div><div><br></div>2 vs 3 legged is basically a matter of what&#39;re you using a it for: 2 legged only authenticates an app, 3 legged authenticates the user and app..<div style>

I didn&#39;t think 3 legged oauth really demanded a full redirect everytime, unless the tokens are expiring far too often. Seems like Feedly might be doing it wrong. They seemed to pull all the data fresh each time, rather than just using OAuth to authenticate a user and grab new data.</div>

<div style><br></div><div style>Looking at different methods and trying to work out what we&#39;d use for what. Its a little different from a lot of use cases since we&#39;re using the API for our own app, not just 3rd party ones.</div>

<div style>Oauth 2 has an option called &#39;resource owner&#39; where you basically send user/pass to the API and get back a bearer token you use from then. This could work for the official js app, since it avoids any weird redirect and the token is basically just session id in another form. The official mobile apps might also use this method.</div>

<div style>Other methods might make more sense for other &#39;external&#39; apps consuming data from an ushahidi install.</div><div style><br></div><div style>Watched through this video today <a href="https://blog.apigee.com/detail/oauth_20_don_t_throw_the_baby_out_with_the_bathwater_video_slides">https://blog.apigee.com/detail/oauth_20_don_t_throw_the_baby_out_with_the_bathwater_video_slides</a> .. quite long but I&#39;m starting to have a handle on how OAuth 2 works now. </div>

<div style><br></div></div><div class="gmail_extra"><br><br><div class="gmail_quote">On Fri, Apr 12, 2013 at 12:20 PM, Aaron Huslage <span dir="ltr">&lt;<a href="mailto:huslage@..." target="_blank">huslage@...</a>&gt;</span> wrote:<br>

<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">I&#39;m not a huge fan of three-legged Oauth2. It tends to be unruly to users and makes them think that something is wrong when it is not. <div>

<br></div><div>For instance, Feedly uses this and it drives me batty to have to think that I&#39;m starting over every time I go to the site...even though I&#39;m not. I know where to go to revoke auth within Google&#39;s infrastructure I don&#39;t need to be beaten over the head every time I login. </div>


</div><div class="gmail_extra"><div><div class="h5"><br><br><div class="gmail_quote">On Thu, Apr 11, 2013 at 8:10 PM, David Kobia <span dir="ltr">&lt;<a href="mailto:david@..." target="_blank">david@...</a>&gt;</span> wrote:<br>


<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">Oauth2 just seems so hard to beat -- not many options out there that are as battle tested. Even reading on of the <a href="http://hueniverse.com/2012/07/on-leaving-oauth/" target="_blank">comments</a> - &quot;... The problem I see with OAuth 2 is not that it exists, but that there doesn’t seem to be anything better.&quot;<div>




<br></div><div>Also, does anyone have any thoughts on three legged vs two legged Oauth?<div><div><div class="gmail_extra">
<br><br><div class="gmail_quote">On Thu, Apr 11, 2013 at 4:14 PM, Robbie MacKay <span dir="ltr">&lt;<a href="mailto:robbie@..." target="_blank">robbie@...</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex">




<div dir="ltr">Hey all,<div><br></div><div>I&#39;ve written up another update on Ushahidi 3.0, focusing on current progress building the API : <a href="http://gh.robbiemackay.com/2013/04/11/api-wrangling/" target="_blank">http://gh.robbiemackay.com/2013/04/11/api-wrangling/</a></div>






<div><br></div><div><div>I&#39;m reposting my thoughts on API authentication here as I&#39;d love more input on this:</div></div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div>
<div>
<p style="color:rgb(51,51,51);font-family:Georgia,&#39;Times New Roman&#39;,&#39;Bitstream Charter&#39;,Times,serif;font-size:13px;line-height:19px">This is probably the next major decision. How do we handle API authentication? do we use OAuth? 1.0 or 2.0? Where do we handle actual user login/registration?… the entire app is going to be built on the API.</p>






</div></div><div><div><p style="color:rgb(51,51,51);font-family:Georgia,&#39;Times New Roman&#39;,&#39;Bitstream Charter&#39;,Times,serif;font-size:13px;line-height:19px">At the moment I’m leaning towards OAuth 2.0, primarily because its what <a href="https://wiki.ushahidi.com/display/WIKI/SwiftRiver+API+Authentication" target="_blank">Swiftriver uses</a>, and consistency between products is important. However OAuth 2.0 has some issues:</p>






</div></div></blockquote><div><div><ul style="color:rgb(51,51,51);font-family:Georgia,&#39;Times New Roman&#39;,&#39;Bitstream Charter&#39;,Times,serif;font-size:13px;line-height:19px"><ul><li>the editor for the spec <a href="http://hueniverse.com/2012/07/oauth-2-0-and-the-road-to-hell/" target="_blank">withdrew</a> <a href="http://hueniverse.com/2012/07/on-leaving-oauth/" target="_blank">saying</a> OAuth 2 had failed</li>






<li>there are a few ways to <a href="http://www.theregister.co.uk/2011/02/02/facebook_plugs_authentication_flaw/" target="_blank">mess</a> <a href="http://stephensclafani.com/2011/04/06/oauth-2-0-csrf-vulnerability/" target="_blank">up</a> <a href="http://www.thread-safe.com/2012/02/more-on-oauth-implicit-flow-application.html" target="_blank">an</a> <a href="http://homakov.blogspot.co.nz/2012/07/saferweb-most-common-oauth2.html" target="_blank">implementation</a> security wise</li>






<li>and one implementation isn’t guaranteed to be interoperable with another</li></ul></ul></div></div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div><div><p style="color:rgb(51,51,51);font-family:Georgia,&#39;Times New Roman&#39;,&#39;Bitstream Charter&#39;,Times,serif;font-size:13px;line-height:19px">






That said the many <em>almost-oauth</em> APIs out there probably have more, and similar problems: rolling our own is not an option.</p></div></div><div><div><p style="color:rgb(51,51,51);font-family:Georgia,&#39;Times New Roman&#39;,&#39;Bitstream Charter&#39;,Times,serif;font-size:13px;line-height:19px">






OAuth 2 is probably still going to get a lot of use, and there are <a href="https://blog.apigee.com/taglist/oauth" target="_blank">good resources</a> appearing on how to do it right, and a couple of good <a href="https://github.com/andreassolberg/jso" target="_blank">oauth2</a> <a href="https://github.com/adoy/PHP-OAuth2" target="_blank">clients</a>.</p>






</div></div><div><div><p style="color:rgb(51,51,51);font-family:Georgia,&#39;Times New Roman&#39;,&#39;Bitstream Charter&#39;,Times,serif;font-size:13px;line-height:19px">One <a href="https://blog.apigee.com/detail/oauth_is_it_worth_the_effort/" target="_blank">recommendation</a> that stuck out was “If your API can require HTTPS, use OAuth 2.0 with bearer tokens. Otherwise, use OAuth 1.0a”. I need to dig into the details of this, but given deployers won’t always use SSL this is worth considering.</p>






</div></div></blockquote><div><div>What do you think? preferences for one authentication method or another?</div><span><font color="#888888"><div><br></div>-- <br><div>Robbie Mackay</div><div><br><div>Software Developer, External Projects</div>






<div>Ushahidi Inc</div><div><div>e: <a href="mailto:robbie@..." target="_blank">robbie@...</a></div></div><div>skype: robbie.mackay</div></div>
</font></span></div></div>
</blockquote></div><br></div></div></div></div></div>
</blockquote></div><br><br clear="all"><div><br></div></div></div><span class="HOEnZb"><font color="#888888">-- <br>Aaron Huslage<br><a href="http://blog.hact.net" target="_blank">http://blog.hact.net</a><br>IM: AIM - ahuslage; GTalk - <a href="mailto:huslage@..." target="_blank">huslage@...</a>; Skype - huslage<br>



</font></span></div>
</blockquote></div><br><br clear="all"><div><br></div>-- <br><div>Robbie Mackay</div><div><br><div>Software Developer, External Projects</div><div>Ushahidi Inc</div><div>m: +64 27 576 2243<br><div>e: <a href="mailto:robbie@..." target="_blank">robbie@...</a></div>

</div><div>skype: robbie.mackay</div></div>
</div>
